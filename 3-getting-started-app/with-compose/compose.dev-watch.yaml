services:
  server:
    build:
      context: .
       # use specific dockerfile with custom CMD
      dockerfile: Dockerfile.dev-watch
    ports:
      - 3000:3000        
    # replace the bind mount  
    develop:
      watch:
        - action: sync
          path: ./src
          target: /app/src
        - action: rebuild
          path: package.json
          target: /app

